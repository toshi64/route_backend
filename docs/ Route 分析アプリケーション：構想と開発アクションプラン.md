# Route 分析アプリケーション：構想と開発アクションプラン（最新版）

## 🧭 全体構想の位置づけ
- 英語に悩む高校生を対象に、「自分の理解のズレ」や「苦手ポイント」を深掘りし、可視化・納得できる体験を提供。
- 入り口体験で強く印象づけ、体験授業や学習継続への導線を形成。
- 一般的な模試型ではなく、“対話的・動的な個別指導”を模倣したAI活用。

---

## 🧩 主な構成要素

### 1. 出題形式別コンポーネント（Next.js）
- 文法、パラグラフ読解、語彙など5種のカード型出題UI。
- ChatGPTがユーザーの回答に応じて最適な形式を動的に選択し、生成・出題。

### 2. 応答ベースの深掘り出題ロジック（ChatGPT）
- 生徒の初期回答から弱点や誤解の傾向を分析。
- 「この人は疑問詞の理解が曖昧だな」といった仮説を立て、次の出題で深掘り。
- 回答を受けてさらに精緻化し、個別指導的に導いていく。

### 3. セッション初期に方向性を定義する仕組み
- セッション冒頭で、生徒のつまずきから“今回のテーマ”を決定（例：be動詞の理解）。
- 出題内容・深掘り方針が以降の出題コンポーネントに影響。
- 個別指導における“その場での軸の設定”を模倣。

### 4. ChatGPTの思考ログと記憶プロンプト設計
- 各出題時に以下をプロンプト記録として保存：
  - 出題の目的／意図
  - 回答の評価
  - 生成された仮説
  - 次の出題の方針
- 履歴をプロンプトに再帰的に渡すことで、文脈・個別性を維持。

### 5. 統一形式の分析レポート自動生成
- 一定の出題回数をこなすと、ChatGPTを複数回呼び出してレポート生成。
- 各レポート項目ごとに個別プロンプトを渡して出力をコントロール。
- 「文法力」「構文読解力」「語彙知識」などに分解して構造化記述。
- JSONやデータベース形式で保存・再利用可能。

### 6. 雑談系コンポーネント（Personal Contextualizer）
- 学習と直接関係ない「パーソナル質問」を通じて、生徒の性格や関心傾向を把握。
- 緊張を緩和し、信頼関係を築くためのアイスブレイク要素。
- 生徒の文脈を知ることで、次の出題設計に柔らかく活かす。

### 7. 会員認証・データ管理（Django + Supabase）
- 登録・ログイン後に分析体験が可能。
- 出題記録・思考ログ・レポートなどをSupabaseに保存・紐付け。

---

## 🧠 Routeの思想的補完：教育的ジレンマとAIの役割

### ● 個別指導のジレンマとAIによる補完
- 個別指導は生徒の理解に合わせられる反面、体系性の維持や時間配分が難しい。
- AIが常時ログに基づいて復習・進捗調整を行うことで、非体系性を克服可能。

### ● 講師が直面する3つの困難を支援
1. 生徒のつまずきを検出すること  
2. それを記録し続けること  
3. その記録に基づいて復習指導すること  
→ Routeはこの一連のプロセスを支援する「教務支援ツール」としても機能。

### ● 講師が「これ便利だな」と思えるプロダクトへ
- 生徒だけでなく、講師が触って納得することで、塾や学校現場への導入障壁を下げる。

---

## 🎯 体験の核心的価値

> この診断体験の中核は、「生徒自身が気づいていなかった弱点を、言語化された形で明示し、腑に落ちる形で提示する」こと。  
> 自力では見えなかった盲点に気づけることで、学習への納得感と信頼が生まれる。

---

## 🗓️ 開発マイルストーン（週次）

### W1（来週）：
- 出題コンポーネント（1種類）を仮実装
- ログ設計（プロンプト記録の構造設計）
- ユーザー登録後に即分析ツールが使える仮導線の構築

### W2：
- 出題形式を3種に拡張
- 思考ログとの連携を精緻化
- 仮レポート出力の実装（JSON or テキスト）

### W3：
- レポート形式の統合
- データ保存とSupabase連携の整備
- LPからの実運用テスト

---

## 💡 メモ
- 使用APIのトークンコストは1ユーザーあたり30〜50円程度を想定。
- 長期的にはプロンプト圧縮やキャッシュ保存を導入しコスト最適化。
